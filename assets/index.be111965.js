import{r as b,o as H,w as S,b as I,d as w,u as F,a as o,c as r,e as $,f as u,p as O,g as T,n as k,_ as P,t as G,F as m,h,i as B,m as D,j as J,k as i,l as K,q as Q,s as z,v,x as C,y as L,z as V,A as R,B as W,C as X,D as Y,E as Z}from"./index.96f5c5bf.js";import{a as ee,D as te,A as ae}from"./ArticleCard.6369aa5d.js";const ne=(c,s=0)=>{if(s===0)return c;const l=b(!1);let a=0;const t=()=>{a&&clearTimeout(a),a=window.setTimeout(()=>{l.value=c.value},s)};return H(t),S(()=>c.value,e=>{e?t():l.value=e}),l},oe=I({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),se=I({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),le={name:"ElSkeletonItem"},re=w({...le,props:se,setup(c){const s=F("skeleton");return(l,a)=>(o(),r("div",{class:k([u(s).e("item"),u(s).e(l.variant)])},[l.variant==="image"?(o(),$(u(O),{key:0})):T("v-if",!0)],2))}});var x=P(re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const ce={name:"ElSkeleton"},ie=w({...ce,props:oe,setup(c,{expose:s}){const l=c,a=F("skeleton"),t=ne(G(l,"loading"),l.throttle);return s({uiLoading:t}),(e,N)=>u(t)?(o(),r("div",D({key:0,class:[u(a).b(),u(a).is("animated",e.animated)]},e.$attrs),[(o(!0),r(m,null,h(e.count,d=>(o(),r(m,{key:d},[e.loading?B(e.$slots,"template",{key:d},()=>[i(x,{class:k(u(a).is("first")),variant:"p"},null,8,["class"]),(o(!0),r(m,null,h(e.rows,_=>(o(),$(x,{key:_,class:k([u(a).e("paragraph"),u(a).is("last",_===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"]))),128))]):T("v-if",!0)],64))),128))],16)):B(e.$slots,"default",J(D({key:1},e.$attrs)))}});var ue=P(ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const de=K(ue,{SkeletonItem:x}),pe=Q(x);const me={id:"category-header-box"},_e={id:"category-header"},ge={class:"nav-list"},ve=w({__name:"CategoryHeader",props:{pageName:null,categories:null},setup(c){return(s,l)=>{const a=z("router-link");return o(),r("div",me,[v("div",_e,[v("div",ge,[(o(!0),r(m,null,h(c.categories,t=>(o(),$(a,{class:"nav-list-item","active-class":"active",key:t.category,to:{name:c.pageName,params:{category:t.category}}},{default:C(()=>[L(V(t.title),1)]),_:2},1032,["to"]))),128))])])])}}});const he=R(ve,[["__scopeId","data-v-f8adaa84"]]),ye={class:"article-list"},fe={class:"sort"},ke={style:{display:"flex","flex-direction":"column","justify-content":"space-between"}},xe=w({__name:"index",setup(c){const s=[{category:"recommended",title:"\u7EFC\u5408"},{category:"backend",title:"\u540E\u7AEF"},{category:"frontend",title:"\u524D\u7AEF"},{category:"android",title:"Android"},{category:"ios",title:"iOS"},{category:"ai",title:"\u4EBA\u5DE5\u667A\u80FD"},{category:"ide",title:"\u5F00\u53D1\u5DE5\u5177"},{category:"career",title:"\u4EE3\u7801\u4EBA\u751F"}],l=[{index:0,title:"\u63A8\u8350"},{index:1,title:"\u6700\u65B0"},{index:2,title:"\u6700\u70ED"}],a=Z(),t=W([]),e=b(0),N=10,d=b(0),_=X(()=>{for(let n=0;n<s.length;n++)if(s[n].category===a.params.category)return n}),y=()=>{ee.get("http://47.101.129.53:8090/articles/list",{params:{category:_.value,page:e.value+1,size:N,sort:d.value}}).then(n=>{n.data.code===0&&(t.push(...n.data.data),e.value+=1)})};S(()=>_.value,(n,f)=>{n!=f&&a.params.category&&(t.splice(0,t.length),e.value=0,d.value=0,y())}),S(()=>d.value,()=>{t.splice(0,t.length),e.value=0,y()});const j=()=>{var n=document.documentElement.scrollTop||document.body.scrollTop,f=document.documentElement.clientHeight||document.body.clientHeight,E=document.documentElement.scrollHeight||document.body.scrollHeight;n+f>=E-200&&y()},q=new te().use(j,500,!0),A=(...n)=>{q(...n)};return H(()=>{y(),window.addEventListener("scroll",A)}),Y(()=>{window.removeEventListener("scroll",A)}),(n,f)=>{const E=he,U=z("router-link"),g=pe,M=de;return o(),r(m,null,[i(E,{categories:s,pageName:"articles"}),v("div",ye,[v("div",fe,[(o(),r(m,null,h(l,p=>i(U,{class:k(["sort-item",{active:d.value==p.index}]),key:p.index,to:{query:{sort:p.index}},onClick:Ee=>d.value=p.index},{default:C(()=>[L(V(p.title),1)]),_:2},1032,["to","class","onClick"])),64))]),(o(!0),r(m,null,h(t,p=>(o(),r("div",{key:p.id},[i(ae,{article:p},null,8,["article"])]))),128)),i(M,{class:"skeleton",animated:""},{template:C(()=>[v("div",ke,[i(g,{variant:"p",style:{width:"200px",height:"20px"}}),i(g,{variant:"p",style:{width:"210px",height:"21px"}}),i(g,{variant:"p",style:{width:"600px",height:"20px"}}),i(g,{variant:"p",style:{width:"170px",height:"22px"}})]),i(g,{variant:"image",style:{width:"200px",height:"150px"}})]),_:1})])],64)}}});const Ce=R(xe,[["__scopeId","data-v-29f5cda0"]]);export{Ce as default};
